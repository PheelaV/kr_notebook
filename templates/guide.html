{% extends "base.html" %}

{% block title %}Guide - Hangul Learn{% endblock %}

{% block content %}
<div class="lg:flex lg:gap-8">
  <!-- TOC Component -->
  {% include "partials/toc.html" %}

  <!-- Main Content -->
  <div class="flex-1 max-w-3xl">
    <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">
      How to Use Hangul Learn
    </h1>

    <!-- Quick Start -->
    <section id="quick-start" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        Quick Start
      </h2>
      <ol class="list-decimal list-inside space-y-2 text-gray-700 dark:text-gray-300">
        <li>Go to <a href="/study" class="text-indigo-600 dark:text-indigo-400 hover:underline">Study</a> to start learning</li>
        <li>Look at the Korean letter on the card</li>
        <li>Type the romanization (e.g., "g" or "a") and tap Check</li>
        <li>For reverse cards, select the correct Korean letter from the choices</li>
        <li>Use the Hint button if you're stuck</li>
        <li>Repeat daily for best results</li>
      </ol>
    </section>

    <!-- Interactive Learning -->
    <section id="interactive" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        Interactive Learning
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-4">
        This app uses <strong>active recall</strong> - you prove you know the answer instead of just revealing it.
        Research shows this leads to 20-40% better retention than passive review.
      </p>
      <div class="space-y-4">
        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
          <div class="font-semibold text-gray-900 dark:text-white mb-2">Korean to Romanization</div>
          <p class="text-gray-700 dark:text-gray-300 text-sm">
            When you see a Korean letter (like ), type its sound ("g" or "k").
            The system accepts common variations - "g / k" will match either "g", "k", or both.
          </p>
        </div>
        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
          <div class="font-semibold text-gray-900 dark:text-white mb-2">Romanization to Korean</div>
          <p class="text-gray-700 dark:text-gray-300 text-sm">
            When asked "Which letter sounds like 'g / k'?", select the correct Korean letter
            from the multiple choice buttons. No Korean keyboard needed!
          </p>
        </div>
      </div>
    </section>

    <!-- Romanization System -->
    <section id="romanization" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        Romanization System
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-4">
        This app uses <strong>Revised Romanization (RR)</strong>, the official romanization system
        of South Korea since 2000. This is the same system used by
        <a href="https://www.howtostudykorean.com" target="_blank" rel="noopener" class="text-indigo-600 dark:text-indigo-400 hover:underline">HowtoStudyKorean.com</a>
        (HTSK), with some learner-friendly adaptations.
      </p>
      <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4">
        <div class="font-medium text-gray-900 dark:text-white mb-2">Key Features</div>
        <ul class="text-sm text-gray-700 dark:text-gray-300 space-y-1 list-disc ml-4">
          <li><strong>ㅓ</strong> = "eo" (not "ŏ" as in McCune-Reischauer)</li>
          <li><strong>ㅡ</strong> = "eu" (not "ŭ")</li>
          <li><strong>ㄱ</strong> = "g / k" &ndash; dual notation shows initial vs final pronunciation</li>
          <li>No diacritics or apostrophes &ndash; uses only ASCII characters</li>
        </ul>
      </div>
      <div class="bg-indigo-50 dark:bg-indigo-900/30 rounded-lg p-4">
        <p class="text-indigo-800 dark:text-indigo-200 text-sm">
          <strong>Note:</strong> Romanization is for <em>reading</em> Korean sounds in Latin letters.
          It's separate from Korean keyboard input, which uses a dedicated layout (2-Set Dubeolsik)
          where keys map directly to Hangul characters like ㄱ, ㄴ, ㅏ, ㅓ.
        </p>
      </div>
    </section>

    <!-- Study Page Controls -->
    <section id="study-controls" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        Study Page Controls
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-4">
        The study page has controls to customize your learning session.
      </p>

      <!-- Study Filter -->
      <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4">
        <div class="font-medium text-gray-900 dark:text-white mb-2">Study Filter</div>
        <p class="text-sm text-gray-700 dark:text-gray-300">
          Use the dropdown to filter what content appears. Options include:
        </p>
        <ul class="text-sm text-gray-600 dark:text-gray-400 mt-2 ml-4 list-disc space-y-1">
          <li><strong>All Content</strong> - Study everything you've unlocked</li>
          <li><strong>Hangul Only</strong> - Focus on the Korean alphabet</li>
          <li><strong>Pack / Lesson</strong> - Focus on a specific content pack or lesson</li>
        </ul>
      </div>

      <!-- Focus Mode Toggle -->
      <div class="bg-purple-50 dark:bg-purple-900/30 rounded-lg p-4 mb-4">
        <div class="font-medium text-purple-900 dark:text-purple-100 mb-2">Focus Mode Toggle</div>
        <p class="text-sm text-purple-800 dark:text-purple-200">
          Click the lightning bolt to enable faster learning steps. Cards graduate in ~50 minutes
          instead of ~5 hours. Great for intensive study sessions.
        </p>
      </div>

      <!-- Stats Bar -->
      <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
        <div class="font-medium text-gray-900 dark:text-white mb-2">Understanding the Stats Bar</div>
        <p class="text-sm text-gray-700 dark:text-gray-300 mb-2">
          The stats bar shows your current study queue:
        </p>
        <div class="text-sm space-y-2 text-gray-600 dark:text-gray-400">
          <div>
            <span class="text-blue-500">●</span> <strong>New:</strong> Cards you haven't seen yet (available to learn)
            <div class="ml-4 text-xs text-gray-500 dark:text-gray-500">
              <strong>(X/Y today)</strong> = X new cards introduced today out of Y daily limit.
              A card counts as "new today" when you see it for the first time today.
            </div>
          </div>
          <div>
            <span class="text-orange-500">●</span> <strong>Learning:</strong> Cards in learning steps (not yet graduated)
            <div class="ml-4 text-xs text-gray-500 dark:text-gray-500">
              You've seen these cards but they need more repetitions before graduating.
            </div>
          </div>
          <div>
            <span class="text-green-500">●</span> <strong>Review:</strong> Graduated cards due for review
            <div class="ml-4 text-xs text-gray-500 dark:text-gray-500">
              Cards that have graduated and are scheduled for spaced repetition.
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Hints System -->
    <section id="hints" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        Using Hints
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-4">
        Stuck on an answer? Tap the <strong>Hint</strong> button for progressive help:
      </p>
      <div class="space-y-2 text-gray-700 dark:text-gray-300 text-sm sm:text-base">
        <div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-0">
          <span class="w-20 shrink-0 text-amber-600 dark:text-amber-400 font-semibold">Hint 1:</span>
          <span>Shows the answer length (e.g., "_ _ _" for a 3-letter answer)</span>
        </div>
        <div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-0">
          <span class="w-20 shrink-0 text-amber-600 dark:text-amber-400 font-semibold">Hint 2:</span>
          <span>Shows the description/pronunciation guide</span>
        </div>
        <div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-0">
          <span class="w-20 shrink-0 text-amber-600 dark:text-amber-400 font-semibold">Hint 3:</span>
          <span>Reveals the first and last letters</span>
        </div>
      </div>
      <p class="text-gray-600 dark:text-gray-400 mt-4 text-sm">
        Note: Using hints counts as a "Hard" answer, so the card will appear again sooner.
        Try to answer without hints when possible!
      </p>
    </section>

    <!-- How Spaced Repetition Works -->
    <section id="srs" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        How Spaced Repetition Works
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-4">
        This app uses a <strong>hybrid scheduling system</strong> that combines the best of two proven algorithms:
        fixed learning steps for new cards, then the modern <strong>FSRS algorithm</strong> for long-term retention.
      </p>

      <!-- Phase 1: Learning -->
      <div class="bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4 mb-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-amber-600 dark:text-amber-400 text-lg">1</span>
          <span class="font-semibold text-gray-900 dark:text-white">Learning Phase (SM-2 style)</span>
        </div>
        <p class="text-gray-700 dark:text-gray-300 text-sm mb-2">
          New cards go through fixed, short intervals to build initial memory:
        </p>
        <div class="text-sm text-gray-600 dark:text-gray-400 font-mono">
          1 min &rarr; 10 min &rarr; 1 hour &rarr; 4 hours &rarr; <span class="text-green-600 dark:text-green-400 font-semibold">graduated!</span>
        </div>
        <p class="text-gray-600 dark:text-gray-400 text-xs mt-2">
          You'll see new cards multiple times in your first session. Get one wrong? Back to 1 minute.
        </p>
      </div>

      <!-- Phase 2: FSRS -->
      <div class="bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 rounded-lg p-4 mb-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-indigo-600 dark:text-indigo-400 text-lg">2</span>
          <span class="font-semibold text-gray-900 dark:text-white">Review Phase (FSRS)</span>
        </div>
        <p class="text-gray-700 dark:text-gray-300 text-sm mb-2">
          After graduation, the <strong>FSRS algorithm</strong> takes over. It tracks two things for each card:
        </p>
        <ul class="text-sm text-gray-700 dark:text-gray-300 space-y-1 ml-4 list-disc">
          <li><strong>Stability</strong> &ndash; how well the memory is anchored (grows with correct reviews)</li>
          <li><strong>Difficulty</strong> &ndash; how hard the card is for you personally (adapts over time)</li>
        </ul>
        <p class="text-gray-600 dark:text-gray-400 text-xs mt-2">
          FSRS calculates the optimal review time based on your retention target. Intervals grow exponentially:
          1 day &rarr; 3 days &rarr; 1 week &rarr; 2 weeks &rarr; months...
        </p>
      </div>

      <!-- Why hybrid -->
      <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
        <p class="text-gray-700 dark:text-gray-300 text-sm">
          <strong>Why hybrid?</strong> Research shows fixed short intervals work best for brand-new information,
          while adaptive algorithms like FSRS excel at long-term scheduling. This combination gives you
          fast initial learning plus optimized long-term retention.
        </p>
      </div>
    </section>

    <!-- Answer Quality -->
    <section id="scoring" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        How Answers Are Scored
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-4">
        Your answers are automatically scored based on accuracy:
      </p>
      <div class="space-y-3">
        <div class="flex flex-col sm:flex-row sm:items-start gap-2 sm:gap-0">
          <span class="inline-block w-24 shrink-0 bg-green-500 text-white text-center py-1 px-2 rounded text-sm font-semibold sm:mr-3">
            Correct
          </span>
          <div class="text-gray-700 dark:text-gray-300 text-sm sm:text-base">
            <strong>Got it right!</strong> Interval increases. Card becomes easier.
          </div>
        </div>
        <div class="flex flex-col sm:flex-row sm:items-start gap-2 sm:gap-0">
          <span class="inline-block w-24 shrink-0 bg-orange-500 text-white text-center py-1 px-2 rounded text-sm font-semibold sm:mr-3">
            With Hint
          </span>
          <div class="text-gray-700 dark:text-gray-300 text-sm sm:text-base">
            <strong>Used hints.</strong> Counts as "Hard" - card will appear again soon.
          </div>
        </div>
        <div class="flex flex-col sm:flex-row sm:items-start gap-2 sm:gap-0">
          <span class="inline-block w-24 shrink-0 bg-red-500 text-white text-center py-1 px-2 rounded text-sm font-semibold sm:mr-3">
            Incorrect
          </span>
          <div class="text-gray-700 dark:text-gray-300 text-sm sm:text-base">
            <strong>Wrong answer.</strong> Card resets and will appear again shortly.
          </div>
        </div>
      </div>
      <p class="text-gray-600 dark:text-gray-400 mt-4 text-sm">
        Tip: Small typos (1-2 characters off) are accepted as correct, but try to be accurate!
      </p>
    </section>

    <!-- Override Ruling -->
    <section id="override" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        Override Ruling
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-4">
        Sometimes the system may misjudge your answer. If you believe your answer was scored incorrectly,
        you can override the ruling.
      </p>

      <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4">
        <div class="font-medium text-gray-900 dark:text-white mb-2">How to Override</div>
        <ol class="text-sm text-gray-700 dark:text-gray-300 space-y-2 list-decimal ml-4">
          <li>After answering a card, click <strong>"Show last card"</strong> to expand the previous card details</li>
          <li>Click the <strong>"Override ruling"</strong> link at the bottom</li>
          <li>Edit the suggested answer field if you want to propose an alternative correct answer</li>
          <li>Click the button that matches how you would rate your answer:
            <ul class="mt-1 ml-4 list-disc text-gray-600 dark:text-gray-400">
              <li><span class="text-red-600 dark:text-red-400 font-medium">Wrong</span> - I got it completely wrong</li>
              <li><span class="text-yellow-600 dark:text-yellow-400 font-medium">Hard</span> - Correct but I struggled</li>
              <li><span class="text-green-600 dark:text-green-400 font-medium">Correct</span> - My answer was right</li>
              <li><span class="text-blue-600 dark:text-blue-400 font-medium">Easy</span> - It was too easy</li>
            </ul>
          </li>
        </ol>
      </div>

      <div class="bg-indigo-50 dark:bg-indigo-900/30 rounded-lg p-4">
        <p class="text-indigo-800 dark:text-indigo-200 text-sm">
          <strong>Note:</strong> Your override will update the card's scheduling and your suggestion
          will be recorded for review. This helps improve the answer validation system over time.
        </p>
      </div>
    </section>

    <!-- Learning Tiers -->
    <section id="tiers" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        Learning Tiers
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-4">
        Hangul is organized into 4 tiers, from basic to advanced. You start with Tier 1
        and unlock new tiers as you progress.
      </p>
      <div class="space-y-3">
        <div class="border-l-4 border-green-500 pl-4">
          <div class="font-semibold text-gray-900 dark:text-white">Tier 1: Basic Consonants & Vowels</div>
          <div class="text-sm text-gray-600 dark:text-gray-400">
            The 9 basic consonants (ㄱ, ㄴ, ㄷ...) and 6 basic vowels (ㅏ, ㅓ, ㅗ...)
          </div>
        </div>
        <div class="border-l-4 border-blue-500 pl-4">
          <div class="font-semibold text-gray-900 dark:text-white">Tier 2: Y-Vowels & Special Ieung</div>
          <div class="text-sm text-gray-600 dark:text-gray-400">
            Y-vowels (ㅑ, ㅕ, ㅛ, ㅠ), ae/e vowels (ㅐ, ㅔ), and ㅇ rules
          </div>
        </div>
        <div class="border-l-4 border-purple-500 pl-4">
          <div class="font-semibold text-gray-900 dark:text-white">Tier 3: Aspirated & Tense Consonants</div>
          <div class="text-sm text-gray-600 dark:text-gray-400">
            Aspirated (ㅋ, ㅍ, ㅌ, ㅊ) and double/tense consonants (ㄲ, ㅃ, ㄸ, ㅆ, ㅉ)
          </div>
        </div>
        <div class="border-l-4 border-orange-500 pl-4">
          <div class="font-semibold text-gray-900 dark:text-white">Tier 4: Compound Vowels</div>
          <div class="text-sm text-gray-600 dark:text-gray-400">
            Combined vowels like ㅘ, ㅝ, ㅟ, ㅚ, ㅢ, and more
          </div>
        </div>
      </div>
      <div class="bg-indigo-50 dark:bg-indigo-900/30 rounded-lg p-4 mt-4">
        <p class="text-indigo-800 dark:text-indigo-200 text-sm">
          <strong>How to unlock:</strong> Learn 80% of the cards in your current tier,
          then visit the <a href="/progress" class="underline">Progress</a> page to unlock the next tier.
          Use the Study Filter to focus on specific tiers, and enable Focus Mode for faster learning.
        </p>
      </div>
    </section>

    <!-- Accelerated Mode -->
    <section id="accelerated" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        Accelerated Mode
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-4">
        Want to skip the progressive unlock system? Enable <strong>Accelerated Mode</strong> in
        <a href="/settings" class="text-indigo-600 dark:text-indigo-400 hover:underline">Settings</a>.
      </p>
      <div class="bg-purple-50 dark:bg-purple-900/30 rounded-lg p-4">
        <p class="text-purple-800 dark:text-purple-200 text-sm">
          When enabled, all tiers become available immediately. You can then use the tier
          checkboxes in Settings to choose exactly which tiers you want to study.
          This is useful if you already know some Hangul and want to focus on specific areas.
        </p>
      </div>
    </section>

    <!-- Focus Mode -->
    <section id="focus" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        Focus Mode
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-4">
        Focus Mode uses faster learning steps to help you graduate new cards more quickly.
        Ideal for intensive study sessions when you want to learn new material efficiently.
      </p>
      <div class="space-y-3">
        <div class="bg-purple-50 dark:bg-purple-900/30 rounded-lg p-4">
          <p class="text-purple-800 dark:text-purple-200 text-sm">
            <strong>Faster learning steps:</strong> Cards graduate in ~50 minutes instead of ~5 hours.
          </p>
          <div class="mt-2 text-xs text-purple-700 dark:text-purple-300 font-mono">
            Normal: 1 min → 10 min → 1 hr → 4 hr<br>
            Focus: 1 min → 5 min → 15 min → 30 min
          </div>
        </div>
        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
          <p class="text-gray-700 dark:text-gray-300 text-sm">
            <strong>How to use:</strong> Click the lightning bolt toggle on the study page header.
            You can also toggle it in <a href="/settings" class="text-indigo-600 dark:text-indigo-400 hover:underline">Settings</a>.
          </p>
        </div>
      </div>
      <p class="text-gray-600 dark:text-gray-400 mt-4 text-sm">
        Focus Mode only affects cards in learning steps. Once cards graduate to FSRS review,
        they follow normal spaced repetition intervals regardless of Focus Mode.
      </p>
    </section>

    <!-- Retention Target -->
    <section id="retention" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        Retention Target
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-4">
        The retention target tells FSRS how well you want to remember graduated cards.
        It controls the trade-off between review frequency and memory strength.
      </p>
      <p class="text-gray-600 dark:text-gray-400 text-sm mb-4">
        <strong>Note:</strong> This only affects cards in the FSRS review phase (after graduation).
        Learning phase intervals (1m &rarr; 10m &rarr; 1h &rarr; 4h) are fixed.
      </p>
      <div class="space-y-2 text-sm">
        <div class="flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
          <span class="font-mono font-semibold text-gray-900 dark:text-white w-12">80%</span>
          <span class="text-gray-700 dark:text-gray-300">Longer intervals, fewer reviews. Accept ~20% forgetting for faster progression.</span>
        </div>
        <div class="flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
          <span class="font-mono font-semibold text-gray-900 dark:text-white w-12">85%</span>
          <span class="text-gray-700 dark:text-gray-300">Balanced trade-off. Good for most learners who want steady progress.</span>
        </div>
        <div class="flex items-start gap-3 p-3 bg-green-50 dark:bg-green-900/30 rounded-lg border border-green-200 dark:border-green-800">
          <span class="font-mono font-semibold text-green-700 dark:text-green-300 w-12">90%</span>
          <span class="text-green-700 dark:text-green-300">Default. Strong retention with reasonable review load.</span>
        </div>
        <div class="flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
          <span class="font-mono font-semibold text-gray-900 dark:text-white w-12">95%</span>
          <span class="text-gray-700 dark:text-gray-300">Shorter intervals, more reviews. Best for exams or when accuracy is critical.</span>
        </div>
      </div>
      <p class="text-gray-600 dark:text-gray-400 mt-4 text-sm">
        Change this in <a href="/settings" class="text-indigo-600 dark:text-indigo-400 hover:underline">Settings</a>.
        If you're progressing too slowly, try lowering the target to 85%.
      </p>
    </section>

    <!-- Problem Areas -->
    <section id="problem-areas" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        Problem Areas
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-4">
        The app tracks which characters you frequently get wrong. Visit the
        <a href="/progress" class="text-indigo-600 dark:text-indigo-400 hover:underline">Progress</a>
        page to see your "Problem Areas" section.
      </p>
      <ul class="list-disc list-inside text-gray-700 dark:text-gray-300 space-y-1">
        <li>Shows characters with the most mistakes</li>
        <li>Displays your common wrong answers (confusions)</li>
        <li>Helps you identify patterns like mixing up similar letters</li>
      </ul>
    </section>

    <!-- Tips for Success -->
    <section id="tips" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        Tips for Success
      </h2>
      <ul class="space-y-3 text-gray-700 dark:text-gray-300">
        <li class="flex items-start">
          <span class="text-green-500 mr-2">&#10003;</span>
          <span><strong>Study daily.</strong> Even 5 minutes a day is better than long irregular sessions.</span>
        </li>
        <li class="flex items-start">
          <span class="text-green-500 mr-2">&#10003;</span>
          <span><strong>Review all due cards.</strong> The system works best when you don't skip reviews.</span>
        </li>
        <li class="flex items-start">
          <span class="text-green-500 mr-2">&#10003;</span>
          <span><strong>Say the sounds aloud.</strong> This reinforces memory better than silent reading.</span>
        </li>
        <li class="flex items-start">
          <span class="text-green-500 mr-2">&#10003;</span>
          <span><strong>Try before using hints.</strong> Struggling to recall strengthens memory more than easy recall.</span>
        </li>
        <li class="flex items-start">
          <span class="text-green-500 mr-2">&#10003;</span>
          <span><strong>Be patient.</strong> It typically takes 2-3 weeks of daily practice to learn all of Hangul.</span>
        </li>
      </ul>
    </section>

    <!-- What "Learned" Means -->
    <section id="learned" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        What "Learned" Means
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-3">
        A card is considered "learned" when you've answered it correctly through all
        learning steps and graduated to longer intervals. This means:
      </p>
      <ul class="list-disc list-inside text-gray-700 dark:text-gray-300 space-y-1">
        <li>Card has passed all learning steps (1 min &rarr; 10 min &rarr; 1 hr &rarr; 4 hrs)</li>
        <li>Review intervals are now measured in days, calculated by the FSRS algorithm</li>
        <li>The card will continue appearing for review to maintain long-term memory</li>
      </ul>
      <p class="text-gray-600 dark:text-gray-400 mt-3 text-sm">
        Cards will still appear for review even after they're "learned" - that's how
        spaced repetition keeps them in your long-term memory.
      </p>
    </section>

    <!-- Practice Mode -->
    <section id="practice" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        Practice Mode
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-3">
        When you've reviewed all due cards, you can keep practicing with <strong>Practice Mode</strong>.
      </p>
      <ul class="list-disc list-inside text-gray-700 dark:text-gray-300 space-y-1">
        <li>Shows random cards from your enabled tiers</li>
        <li>Doesn't affect your spaced repetition schedule</li>
        <li>Great for extra drilling when you want more practice</li>
        <li>Toggle between <strong>Flip</strong> (reveal answer) and <strong>Interactive</strong> (type/select answer) modes</li>
      </ul>
      <p class="text-gray-600 dark:text-gray-400 mt-3 text-sm">
        Access practice mode from the home page when no cards are due, or after completing
        your daily reviews.
      </p>
    </section>

    <!-- Content Packs -->
    <section id="content-packs" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        Content Packs
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-4">
        The app uses a modular <strong>content pack</strong> system. Packs contain learning content
        like character cards or pronunciation audio.
      </p>
      <div class="space-y-3">
        <div class="bg-green-50 dark:bg-green-900/30 rounded-lg p-4">
          <div class="font-semibold text-green-800 dark:text-green-200 mb-1">Baseline Pack</div>
          <p class="text-green-700 dark:text-green-300 text-sm">
            The built-in Hangul characters (consonants, vowels, compound vowels). This pack is
            always enabled and contains all the core content for learning Hangul.
          </p>
        </div>
        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
          <div class="font-semibold text-gray-900 dark:text-white mb-1">Additional Packs</div>
          <p class="text-gray-700 dark:text-gray-300 text-sm">
            Card packs add new flashcards. Audio packs add pronunciation audio. Generator packs
            can create content (like downloading audio from external sources).
          </p>
        </div>
      </div>
      <p class="text-gray-600 dark:text-gray-400 mt-4 text-sm">
        Manage packs in <a href="/settings" class="text-indigo-600 dark:text-indigo-400 hover:underline">Settings</a> → Content Packs.
        Enable or disable packs to customize what content appears in your study sessions.
      </p>
    </section>

    <!-- Learning Large Packs -->
    <section id="large-packs" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        Learning Large Packs
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-4">
        Some packs have many lessons, each with dozens of cards. Here's how to learn efficiently
        without getting overwhelmed.
      </p>

      <!-- The Challenge -->
      <div class="bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4 mb-4">
        <div class="font-semibold text-amber-800 dark:text-amber-200 mb-2">The Challenge</div>
        <p class="text-amber-700 dark:text-amber-300 text-sm">
          Learning steps take ~5 hours to graduate one card (1min → 10min → 1hr → 4hr).
          You can't learn 60 cards in one 20-minute session - the SRS is designed for
          <strong>spaced sessions</strong>, not cramming.
        </p>
      </div>

      <!-- Strategy -->
      <div class="space-y-4 mb-4">
        <div class="font-semibold text-gray-900 dark:text-white">Recommended Strategy</div>

        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
          <div class="font-medium text-gray-900 dark:text-white mb-2">Day 1: Multiple Short Sessions</div>
          <div class="space-y-2 text-sm text-gray-700 dark:text-gray-300">
            <div class="flex gap-2">
              <span class="font-mono text-indigo-600 dark:text-indigo-400 w-20 shrink-0">Session 1</span>
              <span>~30 min: Start studying. New cards enter the learning queue.</span>
            </div>
            <div class="flex gap-2">
              <span class="font-mono text-indigo-600 dark:text-indigo-400 w-20 shrink-0">Session 2</span>
              <span>~15 min, 1-2 hours later: Review cards at the 1-hour step.</span>
            </div>
            <div class="flex gap-2">
              <span class="font-mono text-indigo-600 dark:text-indigo-400 w-20 shrink-0">Session 3</span>
              <span>~15 min, 4 hours later: Graduate cards to FSRS scheduling.</span>
            </div>
          </div>
        </div>

        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
          <div class="font-medium text-gray-900 dark:text-white mb-2">Days 2+: Review Sessions</div>
          <p class="text-sm text-gray-700 dark:text-gray-300">
            Cards will become due throughout the day. Review as they appear.
            Intervals grow naturally: 1 day → 3 days → 1 week → 2 weeks → etc.
          </p>
        </div>
      </div>

      <!-- Tips -->
      <div class="bg-indigo-50 dark:bg-indigo-900/30 rounded-lg p-4">
        <div class="font-semibold text-indigo-800 dark:text-indigo-200 mb-2">Tips</div>
        <ul class="text-sm text-indigo-700 dark:text-indigo-300 space-y-1 list-disc ml-4">
          <li>Use the <strong>Study Filter</strong> to focus on one lesson at a time</li>
          <li>Set <strong>New Cards/Day</strong> to 10-20 to avoid overwhelm</li>
          <li>Enable <strong>Focus Mode</strong> for faster graduation (~50 min vs ~5 hr)</li>
        </ul>
      </div>
    </section>

    <!-- Keyboard Shortcuts -->
    <section id="shortcuts" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        Keyboard Shortcuts
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-4">
        Use keyboard shortcuts for faster navigation through cards:
      </p>

      <div class="space-y-4">
        <!-- Study Mode -->
        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
          <div class="font-semibold text-gray-900 dark:text-white mb-3">Study Mode (Interactive)</div>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm">
            <div class="flex items-center gap-2">
              <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-xs font-mono">Enter</kbd>
              <span class="text-gray-700 dark:text-gray-300">Submit answer / Next card</span>
            </div>
            <div class="flex items-center gap-2">
              <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-xs font-mono">1-4</kbd>
              <span class="text-gray-700 dark:text-gray-300">Select multiple choice</span>
            </div>
            <div class="flex items-center gap-2">
              <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-xs font-mono">H</kbd>
              <span class="text-gray-700 dark:text-gray-300">Show hint</span>
            </div>
          </div>
        </div>

        <!-- Study Mode Classic -->
        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
          <div class="font-semibold text-gray-900 dark:text-white mb-3">Study Mode (Classic)</div>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm">
            <div class="flex items-center gap-2">
              <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-xs font-mono">Space</kbd>
              <span class="text-gray-700 dark:text-gray-300">Flip card</span>
            </div>
            <div class="flex items-center gap-2">
              <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-xs font-mono">1</kbd>
              <span class="text-gray-700 dark:text-gray-300">Again (forgot)</span>
            </div>
            <div class="flex items-center gap-2">
              <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-xs font-mono">2</kbd>
              <span class="text-gray-700 dark:text-gray-300">Hard</span>
            </div>
            <div class="flex items-center gap-2">
              <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-xs font-mono">3</kbd>
              <span class="text-gray-700 dark:text-gray-300">Good</span>
            </div>
            <div class="flex items-center gap-2">
              <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-xs font-mono">4</kbd>
              <span class="text-gray-700 dark:text-gray-300">Easy</span>
            </div>
          </div>
        </div>

        <!-- Practice Mode -->
        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
          <div class="font-semibold text-gray-900 dark:text-white mb-3">Practice Mode</div>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm">
            <div class="flex items-center gap-2">
              <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-xs font-mono">Space</kbd>
              <span class="text-gray-700 dark:text-gray-300">Flip card (flip mode)</span>
            </div>
            <div class="flex items-center gap-2">
              <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-xs font-mono">Enter</kbd>
              <span class="text-gray-700 dark:text-gray-300">Next card</span>
            </div>
          </div>
        </div>

        <!-- Listen Mode -->
        <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
          <div class="font-semibold text-gray-900 dark:text-white mb-3">Listen Mode</div>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm">
            <div class="flex items-center gap-2">
              <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-xs font-mono">1-4</kbd>
              <span class="text-gray-700 dark:text-gray-300">Select answer</span>
            </div>
            <div class="flex items-center gap-2">
              <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-xs font-mono">Enter</kbd>
              <span class="text-gray-700 dark:text-gray-300">Confirm / Continue</span>
            </div>
            <div class="flex items-center gap-2">
              <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-xs font-mono">Space</kbd>
              <span class="text-gray-700 dark:text-gray-300">Replay audio</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Content Attribution -->
    <section id="attribution" class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6 scroll-mt-16">
      <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">
        Content Attribution
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-4">
        The Hangul content structure in this app &ndash; including the tiered learning progression
        (consonants, vowels, compound vowels) and the pronunciation romanizations &ndash; is based on
        the excellent Unit 0 lessons from
        <a href="https://www.howtostudykorean.com" target="_blank" rel="noopener" class="text-indigo-600 dark:text-indigo-400 hover:underline">HowtoStudyKorean.com</a>
        (HTSK).
      </p>
      <p class="text-gray-700 dark:text-gray-300 mb-4">
        The pronunciation audio available through the built-in scraper is also sourced from HTSK.
        We have obtained permission from the HTSK author to include this content structure and
        the audio scraping functionality in this open-source project.
      </p>
      <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
        <p class="text-gray-600 dark:text-gray-400 text-sm">
          <strong>Copyright Notice:</strong> This project is not affiliated with or endorsed by HowtoStudyKorean.com.
          The HTSK content (lesson structure, romanizations, audio) remains the intellectual property of its creator.
          The scraped audio is for personal educational use only and should not be redistributed.
          If you find this app helpful, please consider supporting HTSK directly through their website.
        </p>
      </div>
    </section>

    <div class="text-center">
      <a href="/study" class="inline-block bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors">
        Start Learning
      </a>
    </div>
  </div>
</div>
{% endblock %}
